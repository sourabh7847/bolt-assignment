import{r as f}from"./components-C2bXmY7p.js";let l=[],g=(u,r)=>{let i=[],e={get(){return e.lc||e.listen(()=>{})(),e.value},l:r||0,lc:0,listen(n,s){return e.lc=i.push(n,s||e.l)/2,()=>{let o=i.indexOf(n);~o&&(i.splice(o,2),--e.lc||e.off())}},notify(n,s){let o=!l.length;for(let t=0;t<i.length;t+=2)l.push(i[t],i[t+1],e.value,n,s);if(o){for(let t=0;t<l.length;t+=5){let c;for(let a=t+1;!c&&(a+=5)<l.length;)l[a]<l[t+1]&&(c=l.push(l[t],l[t+1],l[t+2],l[t+3],l[t+4]));c||l[t](l[t+2],l[t+3],l[t+4])}l.length=0}},off(){},set(n){let s=e.value;s!==n&&(e.value=n,e.notify(s))},subscribe(n,s){let o=e.listen(n,s);return n(e.value),o},value:u};return e};function d(u,r,i){let e=new Set([...r,void 0]);return u.listen((n,s,o)=>{e.has(o)&&i(n,s,o)})}function k(u,r={}){let i=f.useCallback(n=>r.keys?d(u,r.keys,n):u.listen(n),[r.keys,u]),e=u.get.bind(u);return f.useSyncExternalStore(i,e,e)}const m="bolt_theme",b="light",h=g(S());function S(){{const u=localStorage.getItem(m),r=document.querySelector("html")?.getAttribute("data-theme");return u??r??b}}function T(){const r=h.get()==="dark"?"light":"dark";h.set(r),localStorage.setItem(m,r),document.querySelector("html")?.setAttribute("data-theme",r)}export{g as a,T as b,h as t,k as u};
